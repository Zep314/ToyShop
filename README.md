# Промежуточная аттестация
## Урок 2. Магазин игрушек (Java)

### **Задание1:**

1. Используйте команды операционной системы Linux и создайте две новых директории 
   – «Игрушки для школьников» и «Игрушки для дошколят»
2. Создайте в директории «Игрушки для школьников» текстовые файлы - «Роботы», 
   «Конструктор», «Настольные игры»
3. Создайте в директории «Игрушки для дошколят» текстовые файлы «Мягкие игрушки», 
   «Куклы», «Машинки»
4. Объединить 2 директории в одну «Имя Игрушки»
5. Переименовать директорию «Имя Игрушки» в «Игрушки»
6. Просмотреть содержимое каталога «Игрушки».
7. Установить и удалить snap-пакет. (Любой, какой хотите)
8. Добавить произвольную задачу для выполнения каждые 3 минуты 
   (Например, запись в текстовый файл чего-то или копирование из каталога А в каталог Б).

### **Задание2:**

Необходимо написать программу – розыгрыша игрушек в магазине детских товаров.
Стараемся применять ООП и работу с файлами.
Если какой-то пункт не изучали и не знаете, как сделать, то можете сделать своим способом. Например, у кого в курсе не было ООП, 
то применяем списки\массивы\словари

Желательный функционал программы:
1. В программе должен быть минимум один класс со следующими свойствами:
   - id игрушки,
   - текстовое название,
   - количество
   - частота выпадения игрушки (вес в % от 100)

2. Метод добавление новых игрушек и возможность изменения веса (частоты выпадения игрушки)
Возможность организовать розыгрыш игрушек.

*Например, следующим образом:*

С помощью метода выбора призовой игрушки – мы получаем эту призовую игрушку и записываем в список\массив.
Это список призовых игрушек, которые ожидают выдачи.
Еще у нас должен быть метод – получения призовой игрушки.
После его вызова – мы удаляем из списка\массива первую игрушку и сдвигаем массив. А эту игрушку записываем в текстовый файл.
Не забываем уменьшить количество игрушек

К написанию программы можно подойти более творчески и делать так, как Вы поняли задание. Немного менять и отходить от примера выше.

***
## Решение:

Выполняем задание по ОС Linux

**Задание 1. Используйте команды операционной системы Linux и создайте две новых директории
   – «Игрушки для школьников» и «Игрушки для дошколят»**

Решение:

    mkdir Игрушки\ для\ школьников
    mkdir Игрушки\ для\ дошколят


**Задание 2. Создайте в директории «Игрушки для школьников» текстовые файлы - «Роботы»,
   «Конструктор», «Настольные игры»**

    cd ./Игрушки\ для\ школьников
    touch Роботы Конструктор Настольные\ игры
    cd ..

**Задание 3. Создайте в директории «Игрушки для дошколят» текстовые файлы «Мягкие игрушки»,
   «Куклы», «Машинки»**

    cd ./Игрушки\ для\ дошколят
    touch Мягкие\ игрушки Куклы Машинки
    cd ..

**Задание 4. Объединить 2 директории в одну «Имя Игрушки»**
   
      mkdir ./Имя\ Игрушки
      cp ./Игрушки\ для\ школьников/* ./Имя\ Игрушки/
      cp ./Игрушки\ для\ дошколят/* ./Имя\ Игрушки/

**Задание 5. Переименовать директорию «Имя Игрушки» в «Игрушки»**

      mv ./Имя\ Игрушки/ ./Игрушки/

**Задание 6. Просмотреть содержимое каталога «Игрушки».**

      ls -l ./Игрушки/

**Задание 7. Установить и удалить snap-пакет. (Любой, какой хотите)**

Будем ставить графический редактор *Gimp*:

      sudo snap install gimp

Удаление *Gimp*, который был установлен через snap:

      sudo snap remove gimp

**Задание 8. Добавить произвольную задачу для выполнения каждые 3 минуты
   (Например, запись в текстовый файл чего-то или копирование из каталога А в каталог Б).**

Создадим две команды - создание директории и запись в файл и добавим их в планировщик заданий *cron* 

Выполняем команду:

      crontab -e

Запустится редактор nano, в котором будет загружен файл (если он уже есть), или будет создан /var/spool/cron/crontabs/<username>

Добавляем в конец файла 2 строки:

      3 * * * * mkdir -p /home/user/new/
      3 * * * * date >> list_of_datetime.txt

***
**Задание 2. Программа "Магазин игрушек" на языке программирования JAVA**

Необходимо написать программу – розыгрыша игрушек в магазине детских товаров.
Стараемся применять ООП и работу с файлами.
Если какой-то пункт не изучали и не знаете, как сделать, то можете сделать своим способом. Например, у кого в курсе не было ООП,
то применяем списки\массивы\словари

Желательный функционал программы:
1. В программе должен быть минимум один класс со следующими свойствами:
   - id игрушки,
   - текстовое название,
   - количество
   - частота выпадения игрушки (вес в % от 100)

2. Метод добавление новых игрушек и возможность изменения веса (частоты выпадения игрушки)
   Возможность организовать розыгрыш игрушек.

**Решение:**
Для более ясной постановки задачи - конкретизируем некоторые моменты.

Есть список призов (игрушек), которые требуется разыграть среди какой-то группы детей.
Список детей находится в файле (в одной строке - одно имя). Список призов (игрушек) хранится 
в текстовом CSV файле, в соответствие с условием задания.

*Реализация:*

В начале работы программы считаем список детей в объект, в котором, в виде списка, храним список детей.

Далее - считываем список призов, который располагаем в объекте, содержащем список призов с параметрами.

Список победителей будем строить в объекте, подобном списку детей.

После этого производим розыгрыш призов:
1. Случайным образом выбираем ребенка из списка детей.
2. Случайным образом выбираем ему приз из списка оставшихся призов.
3. Случайным образом выбираем число от 0 до 1, и сравниваем это число с вероятностью 
выпадения уже определенного на прошлом шаге приза. Если выпавшее число меньше вероятности 
выпадения приза, которое задано в свойствах приза-игрушки, то в список победителей записываем
текущего ребенка. Затем удаляем приз из списка призов, и удаляем ребенка из списка
уже сыгравших детей.
4. Если приз не выпал - то просто удаляем ребенка из списка детей. Он нияего не выиграл, ему не повезло.
5. Проверяем, есть ли еще призы в списке и есть ли еще не сыгравшие дети в списке.
6. Если оба списка не пусты - повторяем все вышеперечисленное еще раз.

После розыгрыша выводим список победителей, а так же список оставшихся 
призов на экран.
Список победителей записываем в CSV файл.

Текст программы представлен в этом репозитарии.

***
### Результат работы программы:

    "C:\Program Files\Java\jdk-19\bin\java.exe" "-javaagent:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2022.2.3\lib\idea_rt.jar=64825:C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2022.2.3\bin" -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\Work\Java\ToyShop\out\production\ToyShop com.my.Main
    Программа - "Магазин игрушек"
    
    Исходное количество призов:
    | ID |        Наименование        |Количество|   Вес  |
    +----+----------------------------+----------+--------+
    |   1|                     Собачка|        10|     0.3|
    |   2|                     Машинка|         5|     0.2|
    |   3|                       Мячик|        15|     0.5|
    
    Победители:
    |      Имя      |      Приз     |
    +---------------+---------------+
    |      Карамниса|        Собачка|
    |         Хисако|          Мячик|
    |      Святислав|          Мячик|
    |       Алаутдин|          Мячик|
    |           Хами|        Собачка|
    |      Асадоллах|          Мячик|
    |       Фредрина|          Мячик|
    |       Добродей|          Мячик|
    |        Мадиган|        Машинка|
    |          Макар|          Мячик|
    |         Матсон|          Мячик|
    |         Пастар|        Собачка|
    |     ХасанХалед|          Мячик|
    |      Опросинья|        Собачка|
    |        Заремма|          Мячик|
    |        Кокошка|          Мячик|
    |       Чагрыбек|          Мячик|
    |     Гельметдин|        Собачка|
    |          Амний|        Собачка|
    |        Ритчард|        Машинка|
    |       Гайытмаз|        Машинка|
    |         Абжели|          Мячик|
    |       Алимурад|          Мячик|
    |        Арунава|          Мячик|
    |          Елеаз|        Машинка|
    |          Сигис|        Машинка|
    |          Амран|        Собачка|
    |      Елосовета|        Собачка|
    |          Разик|        Собачка|
    |          Ламйа|        Собачка|
    
    Остаток призов:
    | ID |        Наименование        |Количество|   Вес  |
    +----+----------------------------+----------+--------+
    Программа завершена.
    
    Process finished with exit code 0
   